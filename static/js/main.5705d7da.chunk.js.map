{"version":3,"sources":["Gallery/Gallery.module.css","Modal/Modal.module.css","GalleryItem/GalleryItem.module.css","Button/Button.module.css","SearchForm/SearchForm.js","servises/image-api.js","Loader/Loader.js","ErrorNotofication.js","GalleryItem/GalleryItem.js","Gallery/Gallery.js","Button/Button.js","Modal/Modal.js","App.js","index.js"],"names":["module","exports","gallery","galleryItem","backdrop","modal","galleryItemImage","stats","statsItem","fullscreenButton","divbutton","button","SearchForm","state","query","handleChange","e","_this","setState","target","value","handleSubmit","preventDefault","props","onSubmitForm","this","react_default","a","createElement","className","styles","form","onSubmit","input","type","autoComplete","placeholder","onChange","Component","fetchImages","page","axios","get","concat","fontSize","Loader","style","ErrorNotification","_ref","text","GallleryItem","onOpenModal","onChangeLargeImageUrl","webformatURL","likes","views","comments","downloads","src","alt","onClick","onMouseUp","Gallery","images","map","image","key","id","GalleryItem","largeImageURL","Button","onLoadMore","Modal","backdropRef","createRef","handleKeyPress","code","onCloseModal","handleBackdropClick","current","window","addEventListener","removeEventListener","children","ref","onKeyPress","role","App","isLoading","error","isModalOpen","loadFirstImages","imageAPI","then","data","Object","toConsumableArray","hits","catch","finally","loadMoreImages","_this$state","scrollTo","top","document","body","scrollHeight","behavior","handleOpenModal","handleCloseModal","handleChangeLargeImageUrl","url","_this$state2","SearchForm_SearchForm","src_Loader_Loader","length","src_Gallery_Gallery","src_Button_Button","ErrorNotofication","message","Modal_Modal","ReactDOM","render","App_App","getElementById"],"mappings":"4EACAA,EAAAC,QAAA,CAAkBC,QAAA,yBAAAC,YAAA,kDCAlBH,EAAAC,QAAA,CAAkBG,SAAA,wBAAAC,MAAA,yCCAlBL,EAAAC,QAAA,CAAkBK,iBAAA,sCAAAC,MAAA,2BAAAC,UAAA,+BAAAC,iBAAA,2DCAlBT,EAAAC,QAAA,CAAkBS,UAAA,0BAAAC,OAAA,iOCGGC,6MACnBC,MAAQ,CAAEC,MAAO,MAEjBC,aAAe,SAAAC,GACbC,EAAKC,SAAS,CAAEJ,MAAOE,EAAEG,OAAOC,WAGlCC,aAAe,SAAAL,GACbA,EAAEM,iBAEFL,EAAKM,MAAMC,aAAaP,EAAKJ,MAAMC,OACnCG,EAAKC,SAAS,CAAEJ,MAAO,8EAGhB,IACCA,EAAUW,KAAKZ,MAAfC,MAER,OACEY,EAAAC,EAAAC,cAAA,QAAMC,UAAWC,IAAOC,KAAMC,SAAUP,KAAKJ,cAC3CK,EAAAC,EAAAC,cAAA,SACEC,UAAWC,IAAOG,MAClBC,KAAK,OACLC,aAAa,MACbC,YAAY,oBACZhB,MAAON,EACPuB,SAAUZ,KAAKV,uBAzBeuB,8BCE3BC,EAAc,SAACzB,EAAO0B,GAAR,OACzBC,IAAMC,IAAN,GAAAC,OAJA,uEAIAA,OAAwB7B,EAAxB,UAAA6B,OAAsCH,EAAtC,qBAAAG,OAFU,wCCHNb,EAAS,CAAEc,SAAU,IAIZC,EAFA,kBAAMnB,EAAAC,EAAAC,cAAA,MAAIkB,MAAOhB,GAAX,gBCMNiB,EAPW,SAAAC,GAAA,IAAGC,EAAHD,EAAGC,KAAH,OACxBvB,EAAAC,EAAAC,cAAA,2CAAmCqB,oBCoDtBC,EApDM,SAAAF,GAQf,IAPJG,EAOIH,EAPJG,YACAC,EAMIJ,EANJI,sBACAC,EAKIL,EALJK,aACAC,EAIIN,EAJJM,MACAC,EAGIP,EAHJO,MACAC,EAEIR,EAFJQ,SACAC,EACIT,EADJS,UAEA,OACE/B,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,IAAOxB,iBAAkBoD,IAAKL,EAAcM,IAAI,QAChEjC,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,IAAOvB,OACrBmB,EAAAC,EAAAC,cAAA,KAAGC,UAAWC,IAAOtB,WACnBkB,EAAAC,EAAAC,cAAA,KAAGC,UAAU,kBAAb,YACCyB,GAEH5B,EAAAC,EAAAC,cAAA,KAAGC,UAAWC,IAAOtB,WACnBkB,EAAAC,EAAAC,cAAA,KAAGC,UAAU,kBAAb,cACC0B,GAEH7B,EAAAC,EAAAC,cAAA,KAAGC,UAAWC,IAAOtB,WACnBkB,EAAAC,EAAAC,cAAA,KAAGC,UAAU,kBAAb,WACC2B,GAEH9B,EAAAC,EAAAC,cAAA,KAAGC,UAAWC,IAAOtB,WACnBkB,EAAAC,EAAAC,cAAA,KAAGC,UAAU,kBAAb,kBACC4B,IAGL/B,EAAAC,EAAAC,cAAA,UACEgC,QAAST,EACTU,UAAWT,EACXlB,KAAK,SACLL,UAAWC,IAAOrB,kBAElBiB,EAAAC,EAAAC,cAAA,KAAGC,UAAU,kBAAb,oCCJOiC,EA9BC,SAAAd,GAAA,IAAGG,EAAHH,EAAGG,YAAaC,EAAhBJ,EAAgBI,sBAAuBW,EAAvCf,EAAuCe,OAAvC,OACdrC,EAAAC,EAAAC,cAAA,MAAIC,UAAWC,IAAO5B,SACnB6D,EAAOC,IAAI,SAAAC,GAAK,OACfvC,EAAAC,EAAAC,cAAA,MAAIsC,IAAKD,EAAME,GAAItC,UAAWC,IAAO3B,aACnCuB,EAAAC,EAAAC,cAACwC,EAAD,CACEf,aAAcY,EAAMZ,aACpBC,MAAOW,EAAMX,MACbC,MAAOU,EAAMV,MACbC,SAAUS,EAAMT,SAChBC,UAAWQ,EAAMR,UACjBN,YAAaA,EACbC,sBAAuB,kBACrBA,EAAsBa,EAAMI,wCCJzBC,EAVA,SAAAtB,GAAA,IAAGuB,EAAHvB,EAAGuB,WAAH,OACb7C,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,IAAOpB,WACrBgB,EAAAC,EAAAC,cAAA,UAAQM,KAAK,SAAS0B,QAASW,GAA/B,oCCFiBC,6MACnBC,YAAcC,wBAUdC,eAAiB,SAAA3D,GACA,WAAXA,EAAE4D,MACN3D,EAAKM,MAAMsD,kBAGbC,oBAAsB,SAAA9D,GAAK,IACjB+D,EAAY9D,EAAKwD,YAAjBM,QACJA,GAAW/D,EAAEG,SAAW4D,GAC5B9D,EAAKM,MAAMsD,mGAfXG,OAAOC,iBAAiB,UAAWxD,KAAKkD,+DAIxCK,OAAOE,oBAAoB,UAAWzD,KAAKkD,iDAcpC,IACCQ,EAAa1D,KAAKF,MAAlB4D,SACR,OACEzD,EAAAC,EAAAC,cAAA,OACEC,UAAWC,IAAO1B,SAClBgF,IAAK3D,KAAKgD,YACVb,QAASnC,KAAKqD,oBACdO,WAAY5D,KAAKkD,eACjBW,KAAK,gBAEL5D,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,IAAOzB,OAAQ8E,WAhCJ7C,aCKdiD,6MACnB1E,MAAQ,CACNkD,OAAQ,GACRyB,WAAW,EACXC,MAAO,KACPjD,KAAM,EACNkD,aAAa,EACbrB,cAAe,KACfvD,MAAO,MAGT6E,gBAAkB,SAAA7E,GAChBG,EAAKC,SAAS,CAAEJ,QAAO0B,KAAM,EAAGiD,MAAO,KAAM1B,OAAQ,KACrD9C,EAAKsB,YAAYzB,EAAO,MAG1ByB,YAAc,SAACzB,EAAO0B,GAEpB,OADAvB,EAAKC,SAAS,CAAEsE,WAAW,IACpBI,EACQ9E,EAAO0B,GACnBqD,KAAK,SAAA7C,GAAc,IAAX8C,EAAW9C,EAAX8C,KACP7E,EAAKC,SAAS,SAAAL,GAAK,MAAK,CACtBkD,OAAM,GAAApB,OAAAoD,OAAAC,EAAA,EAAAD,CAAMlF,EAAMkD,QAAZgC,OAAAC,EAAA,EAAAD,CAAuBD,EAAKG,OAClCzD,KAAM3B,EAAM2B,KAAO,OAGtB0D,MAAM,SAAAT,GAAK,OAAIxE,EAAKC,SAAS,CAAEuE,YAC/BU,QAAQ,WACPlF,EAAKC,SAAS,CAAEsE,WAAW,EAAO1E,eAIxCsF,eAAiB,WAAM,IAAAC,EACGpF,EAAKJ,MAArBC,EADauF,EACbvF,MAAO0B,EADM6D,EACN7D,KAEfvB,EAAKsB,YAAYzB,EAAO0B,GAAMqD,KAAK,WACjCb,OAAOsB,SAAS,CACdC,IAAKC,SAASC,KAAKC,aACnBC,SAAU,gBAKhBC,gBAAkB,kBAAM3F,EAAKC,SAAS,CAAEwE,aAAa,OAErDmB,iBAAmB,kBAAM5F,EAAKC,SAAS,CAAEwE,aAAa,OAGtDoB,0BAA4B,SAAAC,GAC1B9F,EAAKC,SAAS,CAAEmD,cAAe0C,6EAGxB,IAAAC,EAC0DvF,KAAKZ,MAA9DkD,EADDiD,EACCjD,OAAQyB,EADTwB,EACSxB,UAAWC,EADpBuB,EACoBvB,MAAOC,EAD3BsB,EAC2BtB,YAAarB,EADxC2C,EACwC3C,cAC/C,OACE3C,EAAAC,EAAAC,cAAA,OAAKC,UAAU,OACbH,EAAAC,EAAAC,cAACqF,EAAD,CAAYzF,aAAcC,KAAKkE,kBAC9BH,GAAa9D,EAAAC,EAAAC,cAACsF,EAAD,MACbnD,EAAOoD,OAAS,GACfzF,EAAAC,EAAAC,cAACwF,EAAD,CACEjE,YAAa1B,KAAKmF,gBAClB7C,OAAQA,EACRX,sBAAuB3B,KAAKqF,4BAG/B/C,EAAOoD,OAAS,GAAKzF,EAAAC,EAAAC,cAACyF,EAAD,CAAQ9C,WAAY9C,KAAK2E,iBAC9CX,GAAS/D,EAAAC,EAAAC,cAAC0F,EAAD,CAAmBrE,KAAMwC,EAAM8B,UACxC7B,GACChE,EAAAC,EAAAC,cAAC4F,EAAD,CAAO3C,aAAcpD,KAAKoF,kBACxBnF,EAAAC,EAAAC,cAAA,OAAK8B,IAAKW,EAAeV,IAAI,iBArERrB,aCJjCmF,IAASC,OAAOhG,EAAAC,EAAAC,cAAC+F,EAAD,MAASnB,SAASoB,eAAe","file":"static/js/main.5705d7da.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"gallery\":\"Gallery_gallery__2X23S\",\"galleryItem\":\"Gallery_galleryItem__ANQtT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"backdrop\":\"Modal_backdrop__XLUJF\",\"modal\":\"Modal_modal__2pkOq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"galleryItemImage\":\"GalleryItem_galleryItemImage__Wl3cm\",\"stats\":\"GalleryItem_stats__2tFbv\",\"statsItem\":\"GalleryItem_statsItem__3SS3O\",\"fullscreenButton\":\"GalleryItem_fullscreenButton__tLCPH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"divbutton\":\"Button_divbutton__2easU\",\"button\":\"Button_button__35ozz\"};","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport styles from \"./SearchForm.module.css\";\n\nexport default class SearchForm extends Component {\n  state = { query: \"\" };\n\n  handleChange = e => {\n    this.setState({ query: e.target.value });\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n\n    this.props.onSubmitForm(this.state.query);\n    this.setState({ query: \"\" });\n  };\n\n  render() {\n    const { query } = this.state;\n\n    return (\n      <form className={styles.form} onSubmit={this.handleSubmit}>\n        <input\n          className={styles.input}\n          type=\"text\"\n          autoComplete=\"off\"\n          placeholder=\"Search images ...\"\n          value={query}\n          onChange={this.handleChange}\n        />\n      </form>\n    );\n  }\n}\n\nSearchForm.propTypes = {\n  onSubmitForm: PropTypes.func.isRequired\n};\n","import axios from \"axios\";\n\nconst BASE_URL =\n  \"https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=\";\n// https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=что_искать&page=номер_страницы&per_page=12&key=твой_ключ\nconst KEY = \"12605627-9f0f5d76a624f2feb022f83bd\";\nexport const fetchImages = (query, page) =>\n  axios.get(`${BASE_URL}${query}&page=${page}&per_page=12&key=${KEY}`);\nexport const dummy = () => null;\n","import React from \"react\";\n\nconst styles = { fontSize: 40 };\n\nconst Loader = () => <h1 style={styles}>Loading....</h1>;\n\nexport default Loader;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nconst ErrorNotification = ({ text }) => (\n  <h1> Whoops, something went wrong:{text}</h1>\n);\n\nErrorNotification.propTypes = {\n  text: PropTypes.string.isRequired\n};\nexport default ErrorNotification;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport styles from \"./GalleryItem.module.css\";\n\nconst GallleryItem = ({\n  onOpenModal,\n  onChangeLargeImageUrl,\n  webformatURL,\n  likes,\n  views,\n  comments,\n  downloads\n}) => {\n  return (\n    <div>\n      <img className={styles.galleryItemImage} src={webformatURL} alt=\"img\" />\n      <div className={styles.stats}>\n        <p className={styles.statsItem}>\n          <i className=\"material-icons\">thumb_up</i>\n          {likes}\n        </p>\n        <p className={styles.statsItem}>\n          <i className=\"material-icons\">visibility</i>\n          {views}\n        </p>\n        <p className={styles.statsItem}>\n          <i className=\"material-icons\">comment</i>\n          {comments}\n        </p>\n        <p className={styles.statsItem}>\n          <i className=\"material-icons\">cloud_download</i>\n          {downloads}\n        </p>\n      </div>\n      <button\n        onClick={onOpenModal}\n        onMouseUp={onChangeLargeImageUrl}\n        type=\"button\"\n        className={styles.fullscreenButton}\n      >\n        <i className=\"material-icons\">zoom_out_map</i>\n      </button>\n    </div>\n  );\n};\n\nGallleryItem.propTypes = {\n  webformatURL: PropTypes.string.isRequired,\n  likes: PropTypes.number.isRequired,\n  views: PropTypes.number.isRequired,\n  comments: PropTypes.number.isRequired,\n  downloads: PropTypes.number.isRequired,\n  onOpenModal: PropTypes.func.isRequired,\n  onChangeLargeImageUrl: PropTypes.func.isRequired\n};\n\nexport default GallleryItem;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport GalleryItem from \"../GalleryItem/GalleryItem\";\nimport styles from \"./Gallery.module.css\";\n\nconst Gallery = ({ onOpenModal, onChangeLargeImageUrl, images }) => (\n  <ul className={styles.gallery}>\n    {images.map(image => (\n      <li key={image.id} className={styles.galleryItem}>\n        <GalleryItem\n          webformatURL={image.webformatURL}\n          likes={image.likes}\n          views={image.views}\n          comments={image.comments}\n          downloads={image.downloads}\n          onOpenModal={onOpenModal}\n          onChangeLargeImageUrl={() =>\n            onChangeLargeImageUrl(image.largeImageURL)\n          }\n        />\n      </li>\n    ))}\n  </ul>\n);\n\nGallery.propTypes = {\n  images: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired\n    }).isRequired\n  ).isRequired,\n  onOpenModal: PropTypes.func.isRequired,\n  onChangeLargeImageUrl: PropTypes.func.isRequired\n};\n\nexport default Gallery;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport styles from \"./Button.module.css\";\n\nconst Button = ({ onLoadMore }) => (\n  <div className={styles.divbutton}>\n    <button type=\"button\" onClick={onLoadMore}>\n      Load more ...\n    </button>\n  </div>\n);\nButton.propTypes = {\n  onLoadMore: PropTypes.func.isRequired\n};\nexport default Button;\n","import React, { Component, createRef } from \"react\";\nimport PropTypes from \"prop-types\";\nimport styles from \"./Modal.module.css\";\n\nexport default class Modal extends Component {\n  backdropRef = createRef();\n\n  componentDidMount() {\n    window.addEventListener(\"keydown\", this.handleKeyPress);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"keydown\", this.handleKeyPress);\n  }\n\n  handleKeyPress = e => {\n    if (e.code !== \"Escape\") return;\n    this.props.onCloseModal();\n  };\n\n  handleBackdropClick = e => {\n    const { current } = this.backdropRef;\n    if (current && e.target !== current) return;\n    this.props.onCloseModal();\n  };\n\n  render() {\n    const { children } = this.props;\n    return (\n      <div\n        className={styles.backdrop}\n        ref={this.backdropRef}\n        onClick={this.handleBackdropClick}\n        onKeyPress={this.handleKeyPress}\n        role=\"presentation\"\n      >\n        <div className={styles.modal}>{children}</div>\n      </div>\n    );\n  }\n}\nModal.propTypes = {\n  onCloseModal: PropTypes.func.isRequired,\n  children: PropTypes.func.isRequired\n};\n","import React, { Component } from \"react\";\nimport SearchForm from \"./SearchForm/SearchForm\";\nimport * as imageAPI from \"./servises/image-api\";\nimport Loader from \"./Loader/Loader\";\nimport ErrorNotofication from \"./ErrorNotofication\";\nimport Gallery from \"./Gallery/Gallery\";\nimport Button from \"./Button/Button\";\nimport Modal from \"./Modal/Modal\";\n\nexport default class App extends Component {\n  state = {\n    images: [],\n    isLoading: false,\n    error: null,\n    page: 1,\n    isModalOpen: false,\n    largeImageURL: null,\n    query: \"\"\n  };\n\n  loadFirstImages = query => {\n    this.setState({ query, page: 1, error: null, images: [] });\n    this.fetchImages(query, 1);\n  };\n\n  fetchImages = (query, page) => {\n    this.setState({ isLoading: true });\n    return imageAPI\n      .fetchImages(query, page)\n      .then(({ data }) => {\n        this.setState(state => ({\n          images: [...state.images, ...data.hits],\n          page: state.page + 1\n        }));\n      })\n      .catch(error => this.setState({ error }))\n      .finally(() => {\n        this.setState({ isLoading: false, query });\n      });\n  };\n\n  loadMoreImages = () => {\n    const { query, page } = this.state;\n\n    this.fetchImages(query, page).then(() => {\n      window.scrollTo({\n        top: document.body.scrollHeight,\n        behavior: \"smooth\"\n      });\n    });\n  };\n\n  handleOpenModal = () => this.setState({ isModalOpen: true });\n\n  handleCloseModal = () => this.setState({ isModalOpen: false });\n\n  // handleChangeLargeImageUrl = largeImageURL => this.setState({ largeImageURL });\n  handleChangeLargeImageUrl = url => {\n    this.setState({ largeImageURL: url });\n  };\n\n  render() {\n    const { images, isLoading, error, isModalOpen, largeImageURL } = this.state;\n    return (\n      <div className=\"App\">\n        <SearchForm onSubmitForm={this.loadFirstImages} />\n        {isLoading && <Loader />}\n        {images.length > 0 && (\n          <Gallery\n            onOpenModal={this.handleOpenModal}\n            images={images}\n            onChangeLargeImageUrl={this.handleChangeLargeImageUrl}\n          />\n        )}\n        {images.length > 0 && <Button onLoadMore={this.loadMoreImages} />}\n        {error && <ErrorNotofication text={error.message} />}\n        {isModalOpen && (\n          <Modal onCloseModal={this.handleCloseModal}>\n            <img src={largeImageURL} alt=\"img\" />\n          </Modal>\n        )}\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}