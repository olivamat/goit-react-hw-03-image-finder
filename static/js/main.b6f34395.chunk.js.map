{"version":3,"sources":["Gallery/Gallery.module.css","Modal/Modal.module.css","GalleryItem/GalleryItem.module.css","Button/Button.module.css","SearchForm/SearchForm.js","servises/image-api.js","Loader/Loader.js","ErrorNotofication.js","GalleryItem/GalleryItem.js","Gallery/Gallery.js","Button/Button.js","Modal/Modal.js","App.js","index.js"],"names":["module","exports","gallery","galleryItem","backdrop","modal","galleryItemImage","stats","statsItem","fullscreenButton","divbutton","button","SearchForm","state","query","handleChange","e","_this","setState","target","value","handleSubmit","preventDefault","props","onSubmitForm","Object","objectSpread","this","react_default","a","createElement","className","styles","form","onSubmit","input","type","autoComplete","placeholder","onChange","Component","fetchImages","page","axios","get","concat","fontSize","Loader","style","ErrorNotification","_ref","text","GallleryItem","onOpenModal","onChangeLargeImageUrl","webformatURL","likes","views","comments","downloads","src","alt","onClick","onMouseUp","Gallery","images","map","image","key","id","GalleryItem","assign","largeImageURL","Button","onLoadMore","Modal","backdropRef","createRef","handleKeyPress","code","onCloseModal","handleBackdropClick","current","window","addEventListener","removeEventListener","children","ref","onKeyPress","role","App","isLoading","error","isModalOpen","fetchImage","imageAPI","then","_ref2","data","hits","catch","finally","loadMoreImages","pageAdd","_ref3","toConsumableArray","scrollTo","top","document","body","scrollHeight","behavior","handleOpenModal","handleCloseModal","handleChangeLargeImageUrl","url","_this$state","SearchForm_SearchForm","src_Loader_Loader","length","src_Gallery_Gallery","src_Button_Button","ErrorNotofication","message","Modal_Modal","ReactDOM","render","App_App","getElementById"],"mappings":"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","file":"static/js/main.b6f34395.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"gallery\":\"Gallery_gallery__2X23S\",\"galleryItem\":\"Gallery_galleryItem__ANQtT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"backdrop\":\"Modal_backdrop__XLUJF\",\"modal\":\"Modal_modal__2pkOq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"galleryItemImage\":\"GalleryItem_galleryItemImage__Wl3cm\",\"stats\":\"GalleryItem_stats__2tFbv\",\"statsItem\":\"GalleryItem_statsItem__3SS3O\",\"fullscreenButton\":\"GalleryItem_fullscreenButton__tLCPH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"divbutton\":\"Button_divbutton__2easU\",\"button\":\"Button_button__35ozz\"};","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport styles from \"./SearchForm.module.css\";\n\nexport default class SearchForm extends Component {\n  state = { query: \"\" };\n\n  handleChange = e => {\n    this.setState({ query: e.target.value });\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n\n    this.props.onSubmitForm({ ...this.state });\n    this.setState({ query: \"\" });\n  };\n\n  render() {\n    const { query } = this.state;\n\n    return (\n      <form className={styles.form} onSubmit={this.handleSubmit}>\n        <input\n          className={styles.input}\n          type=\"text\"\n          autoComplete=\"off\"\n          placeholder=\"Search images ...\"\n          value={query}\n          onChange={this.handleChange}\n        />\n      </form>\n    );\n  }\n}\n\nSearchForm.propTypes = {\n  onSubmitForm: PropTypes.func.isRequired\n};\n","import axios from \"axios\";\n\nconst BASE_URL =\n  \"https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=\";\n// https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=что_искать&page=номер_страницы&per_page=12&key=твой_ключ\nconst KEY = \"12605627-9f0f5d76a624f2feb022f83bd\";\nexport const fetchImages = (query, page) =>\n  axios.get(`${BASE_URL}${query}&page=${page}1&per_page=12&key=${KEY}`);\nexport const dummy = () => null;\n","import React from \"react\";\n\nconst styles = { fontSize: 40 };\n\nconst Loader = () => <h1 style={styles}>Loading....</h1>;\n\nexport default Loader;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nconst ErrorNotification = ({ text }) => (\n  <h1> Whoops, something went wrong:{text}</h1>\n);\n\nErrorNotification.propTypes = {\n  text: PropTypes.string.isRequired\n};\nexport default ErrorNotification;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport styles from \"./GalleryItem.module.css\";\n\nconst GallleryItem = ({\n  onOpenModal,\n  onChangeLargeImageUrl,\n  webformatURL,\n  likes,\n  views,\n  comments,\n  downloads\n}) => {\n  return (\n    <div>\n      <img className={styles.galleryItemImage} src={webformatURL} alt=\"img\" />\n      <div className={styles.stats}>\n        <p className={styles.statsItem}>\n          <i className=\"material-icons\">thumb_up</i>\n          {likes}\n        </p>\n        <p className={styles.statsItem}>\n          <i className=\"material-icons\">visibility</i>\n          {views}\n        </p>\n        <p className={styles.statsItem}>\n          <i className=\"material-icons\">comment</i>\n          {comments}\n        </p>\n        <p className={styles.statsItem}>\n          <i className=\"material-icons\">cloud_download</i>\n          {downloads}\n        </p>\n      </div>\n      <button\n        onClick={onOpenModal}\n        onMouseUp={onChangeLargeImageUrl}\n        type=\"button\"\n        className={styles.fullscreenButton}\n      >\n        <i className=\"material-icons\">zoom_out_map</i>\n      </button>\n    </div>\n  );\n};\n\nGallleryItem.propTypes = {\n  webformatURL: PropTypes.string.isRequired,\n  likes: PropTypes.number.isRequired,\n  views: PropTypes.number.isRequired,\n  comments: PropTypes.number.isRequired,\n  downloads: PropTypes.number.isRequired,\n  onOpenModal: PropTypes.func.isRequired,\n  onChangeLargeImageUrl: PropTypes.func.isRequired\n};\n\nexport default GallleryItem;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport GalleryItem from \"../GalleryItem/GalleryItem\";\nimport styles from \"./Gallery.module.css\";\n\nconst Gallery = ({ onOpenModal, onChangeLargeImageUrl, images }) => (\n  <div>\n    <ul className={styles.gallery}>\n      {images.map(image => (\n        <li key={image.id} className={styles.galleryItem}>\n          <GalleryItem\n            {...image}\n            onOpenModal={onOpenModal}\n            onChangeLargeImageUrl={() =>\n              onChangeLargeImageUrl(image.largeImageURL)\n            }\n          />\n        </li>\n      ))}\n    </ul>\n  </div>\n);\n\nGallery.propTypes = {\n  images: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired\n    }).isRequired\n  ).isRequired,\n  onOpenModal: PropTypes.func.isRequired,\n  onChangeLargeImageUrl: PropTypes.func.isRequired\n};\n\nexport default Gallery;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport styles from \"./Button.module.css\";\n\nconst Button = ({ onLoadMore }) => (\n  <div className={styles.divbutton}>\n    <button type=\"button\" onClick={onLoadMore}>\n      Load more ...\n    </button>\n  </div>\n);\nButton.propTypes = {\n  onLoadMore: PropTypes.func.isRequired\n};\nexport default Button;\n","import React, { Component, createRef } from \"react\";\nimport PropTypes from \"prop-types\";\nimport styles from \"./Modal.module.css\";\n\nexport default class Modal extends Component {\n  backdropRef = createRef();\n\n  componentDidMount() {\n    window.addEventListener(\"keydown\", this.handleKeyPress);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"keydown\", this.handleKeyPress);\n  }\n\n  handleKeyPress = e => {\n    if (e.code !== \"Escape\") return;\n    this.props.onCloseModal();\n  };\n\n  handleBackdropClick = e => {\n    const { current } = this.backdropRef;\n    if (current && e.target !== current) return;\n    this.props.onCloseModal();\n  };\n\n  render() {\n    const { children } = this.props;\n    return (\n      <div\n        className={styles.backdrop}\n        ref={this.backdropRef}\n        onClick={this.handleBackdropClick}\n        onKeyPress={this.handleKeyPress}\n        role=\"presentation\"\n      >\n        <div className={styles.modal}>{children}</div>\n      </div>\n    );\n  }\n}\nModal.propTypes = {\n  onCloseModal: PropTypes.func.isRequired,\n  children: PropTypes.func.isRequired\n};\n","import React, { Component } from \"react\";\nimport SearchForm from \"./SearchForm/SearchForm\";\nimport * as imageAPI from \"./servises/image-api\";\nimport Loader from \"./Loader/Loader\";\nimport ErrorNotofication from \"./ErrorNotofication\";\nimport Gallery from \"./Gallery/Gallery\";\nimport Button from \"./Button/Button\";\nimport Modal from \"./Modal/Modal\";\n\nexport default class App extends Component {\n  state = {\n    images: [],\n    isLoading: false,\n    error: null,\n    page: 1,\n    isModalOpen: false,\n    largeImageURL: null\n  };\n\n  fetchImage = ({ query }) => {\n    this.setState({ isLoading: true, query, page: 1, error: null });\n    const { page } = this.state;\n    imageAPI\n      .fetchImages(query, page)\n      .then(({ data }) => {\n        this.setState({ images: data.hits });\n      })\n      .catch(error => this.setState({ error }))\n      .finally(() => {\n        this.setState({ isLoading: false, query });\n      });\n  };\n\n  loadMoreImages = () => {\n    this.setState({ isLoading: true });\n    const { images } = this.state;\n    const pageAdd = this.state.page;\n    const { query } = this.state;\n\n    imageAPI\n      .fetchImages(query, pageAdd)\n      .then(({ data }) => {\n        this.setState({ images: [...images, ...data.hits] });\n      })\n      .catch(error => this.setState({ error }))\n      .finally(() => {\n        this.setState({ isLoading: false, page: pageAdd + 1 });\n        window.scrollTo({\n          top: document.body.scrollHeight,\n          behavior: \"smooth\"\n        });\n      });\n  };\n\n  handleOpenModal = () => this.setState({ isModalOpen: true });\n\n  handleCloseModal = () => this.setState({ isModalOpen: false });\n\n  // handleChangeLargeImageUrl = largeImageURL => this.setState({ largeImageURL });\n  handleChangeLargeImageUrl = url => {\n    this.setState({ largeImageURL: url });\n  };\n\n  render() {\n    const { images, isLoading, error, isModalOpen, largeImageURL } = this.state;\n    return (\n      <div className=\"App\">\n        <SearchForm onSubmitForm={this.fetchImage} />\n        {isLoading && <Loader />}\n        {images.length > 0 && (\n          <Gallery\n            onOpenModal={this.handleOpenModal}\n            images={images}\n            onChangeLargeImageUrl={this.handleChangeLargeImageUrl}\n          />\n        )}\n        {images.length > 0 && <Button onLoadMore={this.loadMoreImages} />}\n        {error && <ErrorNotofication text={error.message} />}\n        {isModalOpen && (\n          <Modal onCloseModal={this.handleCloseModal}>\n            <img src={largeImageURL} alt=\"img\" />\n          </Modal>\n        )}\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}